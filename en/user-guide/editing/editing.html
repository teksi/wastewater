

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Editing of existing data &mdash; TWW dev documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />

  
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=3ce10a4d"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Moving Wastewater Structures with Reaches, Covers and Nodes" href="moving.html" />
    <link rel="prev" title="Editing in TWW" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            TWW
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../features-guide/index.html">TEKSI wastewater (TWW)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation-guide/index.html">Installation Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">User Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../layerexplanations/index.html">Overview of TWW</a></li>
<li class="toctree-l2"><a class="reference internal" href="../digitizing/index.html">Digitizing in TWW</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Editing in TWW</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Editing of existing data</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#demo-project-chapter-pictures-not-adjusted-to-tww">Demo project (chapter / pictures not adjusted to TWW)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#layers">Layers</a></li>
<li class="toctree-l4"><a class="reference internal" href="#changing-attributes-of-point-elements-manholes-special-structures">Changing attributes of point elements (manholes / special structures)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#changing-attributes-of-linear-elements-channels">Changing attributes of linear elements (channels)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#change-reach-direction">Change reach direction</a></li>
<li class="toctree-l4"><a class="reference internal" href="#snap-reach-geometry">Snap reach geometry</a></li>
<li class="toctree-l4"><a class="reference internal" href="#working-with-codes-of-value-list">Working with codes of value list</a></li>
<li class="toctree-l4"><a class="reference internal" href="#an-other-way-to-choose-an-object">An other way to choose an object</a></li>
<li class="toctree-l4"><a class="reference internal" href="#adding-additional-covers-and-nodes-to-an-existing-wastewater-structure">Adding additional covers and nodes to an existing wastewater structure</a></li>
<li class="toctree-l4"><a class="reference internal" href="#adding-a-wastewater-node-to-an-existing-reach">Adding a wastewater node to an existing reach</a></li>
<li class="toctree-l4"><a class="reference internal" href="#change-multiple-records-at-once">Change multiple records at once</a></li>
<li class="toctree-l4"><a class="reference internal" href="#saving-changes">Saving changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#changing-wastewater-structure-type-ws-type">Changing Wastewater Structure Type (ws_type)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#split-a-reach-channel-into-different-reaches">Split a reach (channel) into different reaches</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="moving.html">Moving Wastewater Structures with Reaches, Covers and Nodes</a></li>
<li class="toctree-l3"><a class="reference internal" href="maintenance_events.html">Adding or Editing of Maintenance Events</a></li>
<li class="toctree-l3"><a class="reference internal" href="connect_wastewater_network_elements.html">Connect Wastewater Network Elements</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../length-profile/index.html">Length profiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="../network-following/index.html">Network following tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plan-plotting/index.html">Plan plotting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../history/index.html">History in TWW</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To/index.html">How To</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../admin-guide/index.html">Admin Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/index.html">Releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../extensions-guide/index.html">Official TWW extensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tww_swmm/index.html">SWMM Data Exchange</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../translation/index.html">Translation</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">TWW</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">User Guide</a></li>
          <li class="breadcrumb-item"><a href="index.html">Editing in TWW</a></li>
      <li class="breadcrumb-item active">Editing of existing data</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/user-guide/editing/editing.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <blockquote>
<div></div></blockquote>
<section id="editing-of-existing-data">
<span id="editing-data"></span><h1>Editing of existing data<a class="headerlink" href="#editing-of-existing-data" title="Link to this heading"></a></h1>
<p>This represents a guide on how to edit existing data in TWW.</p>
<section id="demo-project-chapter-pictures-not-adjusted-to-tww">
<h2>Demo project (chapter / pictures not adjusted to TWW)<a class="headerlink" href="#demo-project-chapter-pictures-not-adjusted-to-tww" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>Make sure you have imported the demo project with pgAdmin (see the <a class="reference internal" href="../../installation-guide/database-initialization.html#database-initialization"><span class="std std-ref">Database initialization</span></a> chapter)</p></li>
<li><p>Open the demo project by going to the main menu and press <strong>Project</strong> –&gt; <strong>Open</strong>  or by pressing <code class="docutils literal notranslate"><span class="pre">CTRL</span></code>
+ <code class="docutils literal notranslate"><span class="pre">O</span></code> at the same time.</p></li>
</ul>
<figure class="align-default">
<a class="reference internal image-reference" href="../../_images/tww_demoproject_old_selection_.jpg"><img alt="../../_images/tww_demoproject_old_selection_.jpg" src="../../_images/tww_demoproject_old_selection_.jpg" style="width: 800.0px; height: 450.0px;" />
</a>
</figure>
<ul class="simple">
<li><p>Login to the database</p></li>
</ul>
<figure class="align-default">
<img alt="../../_images/tww_demoproject_old_login.jpg" src="../../_images/tww_demoproject_old_login.jpg" />
</figure>
<ul class="simple">
<li><p>You should now have the demo project loaded</p></li>
</ul>
<figure class="align-default">
<img alt="../../_images/tww_demoproject_old_overview.jpg" src="../../_images/tww_demoproject_old_overview.jpg" />
</figure>
<ul class="simple">
<li><p>The project consists of different layers. Depending on your task what to edit or add you choose the layer.</p></li>
</ul>
</section>
<section id="layers">
<h2>Layers<a class="headerlink" href="#layers" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>TWW has different predefined layers. For explanations, see the <a class="reference internal" href="../layerexplanations/layerexplanation.html#layer-explanation"><span class="std std-ref">Layers explanation</span></a> chapter.</p></li>
</ul>
</section>
<section id="changing-attributes-of-point-elements-manholes-special-structures">
<h2>Changing attributes of point elements (manholes / special structures)<a class="headerlink" href="#changing-attributes-of-point-elements-manholes-special-structures" title="Link to this heading"></a></h2>
<blockquote>
<div><ul class="simple">
<li><p>To change an attribute you first need to select the <strong>vw_tww_wastewater_structure</strong> layer.</p></li>
<li><p>Switch to the edit mode or start the <strong>TWW Wizard</strong> and click on <strong>Start Data Entry</strong>.</p></li>
<li><p>Then click on the <strong>Identify features</strong> button and click on the element you want to edit.</p></li>
</ul>
<figure class="align-default">
<img alt="../../_images/identify_feature_tool1.jpg" src="../../_images/identify_feature_tool1.jpg" />
</figure>
<ul class="simple">
<li><p>The <strong>vw_tww_wastewater_structure</strong> form will open.</p></li>
</ul>
<figure class="align-default">
<img alt="../../_images/wizard_wastewater_structure_manhole_form_data_ok3.jpg" src="../../_images/wizard_wastewater_structure_manhole_form_data_ok3.jpg" />
</figure>
<ul class="simple">
<li><p>On the first tab (General) you can change the most common attributes</p></li>
<li><p>Main Cover and Main Node are the first cover / node defined for the wastewater structure.</p></li>
<li><p>Additional attributes of table wastewater structure and fo the selected subclass can be changed on tab Wastewater structure</p></li>
<li><p>To change attributes of related tables (e.g. cover) you need to select the correspondent tab.</p></li>
<li><p>In <strong>Structure parts</strong> tab you can add further parts such as <strong>access aids</strong>, <strong>backflow prevention</strong>, <strong>dryweather flume</strong> etc.</p></li>
</ul>
<figure class="align-default">
<img alt="../../_images/form_vw_tww_wastewater_structure_structure_parts.jpg" src="../../_images/form_vw_tww_wastewater_structure_structure_parts.jpg" />
</figure>
<ul class="simple">
<li><p>The <strong>covers</strong> and <strong>wastewater nodes</strong> tab allows you to look to all nodes or covers of a wastewater structure and to add further elements. See the <a class="reference internal" href="#adding-additional-covers-and-nodes-to-an-existing-wastewater-structure"><span class="std std-ref">Adding additional covers and nodes to an existing wastewater structure</span></a> chapter below.</p></li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>additional fields</strong> means, that some fields of the class are in the general tab, others are in separat tabs. The fields of the general tab are not repeated, because Multiedit does not work correct when using a field on more than one tab.</p>
</div>
</section>
<section id="changing-attributes-of-linear-elements-channels">
<h2>Changing attributes of linear elements (channels)<a class="headerlink" href="#changing-attributes-of-linear-elements-channels" title="Link to this heading"></a></h2>
<blockquote>
<div><ul class="simple">
<li><p>To change an attribute you first need to select <strong>vw_tww_reach</strong></p></li>
<li><p>Switch to the edit mode.</p></li>
<li><p>Then click on the <strong>Identify features</strong> button and click the reach you want to edit.</p></li>
<li><p>The <strong>vw_tww_reach</strong> feature attributs window will open.</p></li>
</ul>
<blockquote>
<div><figure class="align-default">
<img alt="../../_images/form_vw_tww_reach.jpg" src="../../_images/form_vw_tww_reach.jpg" />
</figure>
</div></blockquote>
<ul class="simple">
<li><p>On the first tab (<strong>General</strong>) you can change the most common attributes.</p></li>
<li><p>To change additional attributes of related tables (e.g. <strong>reach points</strong>) select the correspondent tab.</p></li>
</ul>
<blockquote>
<div><figure class="align-default">
<img alt="../../_images/form_vw_tww_reach_reachpoints.jpg" src="../../_images/form_vw_tww_reach_reachpoints.jpg" />
</figure>
</div></blockquote>
</div></blockquote>
</section>
<section id="change-reach-direction">
<h2>Change reach direction<a class="headerlink" href="#change-reach-direction" title="Link to this heading"></a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The definition in VSA-DSS is, that reaches have to be defined in the flow direction (the start node is where the water comes from, the end node is where the water flows).</p>
</div>
<p>TWW has a tool to change the reach direction. With this tool you can change all selected reaches at once.
Do not use the <strong>Reverse line</strong> button of QGIS, because this button do not change the reach points and their connection to wastewater network elements.</p>
<ul class="simple">
<li><p>To start you have to select all reaches that you want to change. There is no need to select the vw_tww_reach layer or to set this layer to the edit mode.</p></li>
<li><p>Open the <strong>Processing Toolbox</strong></p></li>
</ul>
<figure class="align-default">
<img alt="../../_images/toolbox.jpg" src="../../_images/toolbox.jpg" />
</figure>
<ul class="simple">
<li><p>Double click the <strong>Change reach direction</strong> tool</p></li>
</ul>
<figure class="align-default">
<img alt="../../_images/tww_toolbox.jpg" src="../../_images/tww_toolbox.jpg" />
</figure>
<ul class="simple">
<li><p>In the tool window you have to choose the <strong>vw_tww_reach</strong> - Layer and then click on <strong>Run</strong></p></li>
<li><p>If you zoom in or out, you see, that the slope-arrow and the slope has changed. The reach points level have not changed.</p></li>
<li><p>Refresh network topology.</p></li>
<li><p>You can save now the change.</p></li>
</ul>
</section>
<section id="snap-reach-geometry">
<h2>Snap reach geometry<a class="headerlink" href="#snap-reach-geometry" title="Link to this heading"></a></h2>
<p>This tool snaps reaches graphically to the wastewater network element they are connected to. So they are not only logically, but also graphically connected.</p>
<ul class="simple">
<li><p>To start you have to select all reaches that you want to snap. There is no need to select the vw_tww_reach layer or to set this layer to the edit mode.</p></li>
<li><p>Open the <strong>Processing Toolbox</strong></p></li>
</ul>
<figure class="align-default">
<img alt="../../_images/toolbox.jpg" src="../../_images/toolbox.jpg" />
</figure>
<ul class="simple">
<li><p>Double click the <strong>Snap reach geometry</strong> tool</p></li>
</ul>
<figure class="align-default">
<img alt="../../_images/tww_toolbox2.jpg" src="../../_images/tww_toolbox2.jpg" />
</figure>
<ul class="simple">
<li><p>In the tool window you have to choose the <strong>vw_tww_reach</strong> - layer and the <strong>vw_wastewater_node</strong> - layer, then click on <strong>Run</strong></p></li>
<li><p>If you zoom in or out, you see the changes.</p></li>
<li><p>If the result is not what you expect, try with a greater snapping distance</p></li>
</ul>
<p>If there are connections from reach to reach, the reach point moves at right angles to the other reach. If there is no way to do a right angle, it moves to the next end point of the reach.</p>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>If there is snapping from reach to reach, you will get not the expected result, if the first reach snaps to a second reach, and afterwards this second reach snaps to a node or a third reach. There will be no more graphical connection between reach 1 and reach 2. You have to re-run the command.</p>
</div>
</section>
<section id="working-with-codes-of-value-list">
<h2>Working with codes of value list<a class="headerlink" href="#working-with-codes-of-value-list" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>The values of fields with value list are stored in the database with codes.</p></li>
</ul>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>The codes are unique, also if there is the same text in different value lists. E.g. the code for “surface_wastewater” in the vl_channel_usage_current and in the vl_channel_usage_planned is different.</p>
</div>
</div></blockquote>
<ul class="simple">
<li><p>In a tww project with correct configuration you see in the table view or the form view the values in your language and not the codes.</p></li>
<li><p>But if you want to define a selection by expression or if you want to define a rule-based symbology for your layer, you have to know the codes or you use the following expression: <strong>represent_value(“field”)</strong></p></li>
</ul>
<p>Examples for using <strong>represent_value</strong></p>
<ul class="simple">
<li><p>Search all primary wastewater facility reaches (function_hierarchic starts with pwwf)</p></li>
</ul>
<blockquote>
<div><figure class="align-default">
<img alt="../../_images/represent_value1.jpg" src="../../_images/represent_value1.jpg" />
</figure>
</div></blockquote>
<ul class="simple">
<li><p>Search all reaches, that have not the same usage_planned as usage_current</p></li>
</ul>
<blockquote>
<div><figure class="align-default">
<img alt="../../_images/represent_value2.jpg" src="../../_images/represent_value2.jpg" />
</figure>
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The expression <cite>“ch_usage_current” &lt;&gt; “ch_usage planned”</cite> does not work because of the unique codes!</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In the demo-project is no use of represent_value for rule-based symbols, because the rules will otherwise only work for one language.</p>
</div>
</section>
<section id="an-other-way-to-choose-an-object">
<h2>An other way to choose an object<a class="headerlink" href="#an-other-way-to-choose-an-object" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>With the <strong>Identify feature</strong> tool activated, right clicking an element outputs a selection of all existing objects at this place.</p></li>
</ul>
<blockquote>
<div><figure class="align-default">
<img alt="../../_images/tww_info_button_rightclick.jpg" src="../../_images/tww_info_button_rightclick.jpg" />
</figure>
<ul class="simple">
<li><p>You can select then the object you want. This will get you to the correspondent form to see the details.</p></li>
</ul>
</div></blockquote>
</section>
<section id="adding-additional-covers-and-nodes-to-an-existing-wastewater-structure">
<span id="id1"></span><h2>Adding additional covers and nodes to an existing wastewater structure<a class="headerlink" href="#adding-additional-covers-and-nodes-to-an-existing-wastewater-structure" title="Link to this heading"></a></h2>
<p>If a wastewater structure does not have a cover yet, one can add a cover by filling a <strong>co_</strong> attribute in <strong>vw_tww_wastewater_structure</strong>. The cover is then created at the location of the <strong>vw_tww_wastewater_structure</strong>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The following description is for an additional cover. It works similar for additional wastewater nodes.</p>
</div>
<p>The TWW project is configured that you can add an additional cover with the <strong>Add Point Child Feature</strong> button.</p>
<ul class="simple">
<li><p>select layer vw_tww_wastewater_structure</p></li>
<li><p>Switch to the edit mode</p></li>
<li><p>click the manhole you want to add a cover with the <strong>Identify feature</strong> tool</p></li>
<li><p>Go to tab <strong>covers</strong> and click the Add Point Child Feature-button. Now you can digitize a new cover for the wastewater structure.</p></li>
</ul>
<figure class="align-default">
<img alt="../../_images/new_cover_childpoint.jpg" src="../../_images/new_cover_childpoint.jpg" />
</figure>
<figure class="align-default">
<img alt="../../_images/new_cover_childpoint_message.jpg" src="../../_images/new_cover_childpoint_message.jpg" />
</figure>
</section>
<section id="adding-a-wastewater-node-to-an-existing-reach">
<h2>Adding a wastewater node to an existing reach<a class="headerlink" href="#adding-a-wastewater-node-to-an-existing-reach" title="Link to this heading"></a></h2>
<p>In some cases, you need to add a wastewater node between two or more reaches, although there is no manhole at this place.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This cases are mainly in pwwf_channels (primary wastewater facilities) if there is e.g. a change of slope or a change of the material or if there is a connection of two channels without manhole (in German: Blindanschluss).</p>
</div>
<p>In the data model, you can connect a node between reaches to a channel (because also a channel is a wastewater structure). There is in the moment a discussion, if it is necessary or optional or even forbidden to define a connection to a wastewater structure.</p>
<p>In TWW, there is in the moment no tool, that helps you to connect a wastewater node to a channel. So you just connect the reaches (reach points) to the node.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you really want to connect the node to a channel, then type the obj_id of the channel manually in the fk_wasterwater_structure field of the node.</p>
</div>
</section>
<section id="change-multiple-records-at-once">
<h2>Change multiple records at once<a class="headerlink" href="#change-multiple-records-at-once" title="Link to this heading"></a></h2>
<p>There are several QGIS-possibilitys to change multiple records at the same time. QGIS <strong>Multiedit</strong> changes multiple fields of multiple records at the same, but there is no progress indicator. With QGIS <strong>field calculator</strong> one field can be change at once and there is a progress indicator.</p>
<p>If there are lot of records (several hundred to several thousand) a multiple record change can take a long time (several minutes), if there are a lot records and if there are views changed, that have lots of fields from different tables.
Special the TWW-main-views (vw_tww_wastewater_structure and vw_tww_reach) have this problem. Therefore, it is always better not to multi-edit these large views, but rather to edit the table in question directly if a large number of data records are to be changed at the same time. That’s why it is good to know, in which table is our field (perhaps the fieldname-prefix helps) and you may need to add this table to your TWW-project.
To explain, that it really matters, there was the following test:</p>
<p>Change for 500 reaches out of 10’122 the field rv_construction_type. It’s a field with a value list. In vw_tww_reach, the fields name is ws_rv_construction_type, means the table of the field is wastewater_structure (ws).</p>
<p>How long did we wait:</p>
<ul class="simple">
<li><p>Use field calculator with vw_tww_reach: more than 25 minutes!</p></li>
<li><p>Use multiedit with vw_tww_reach: more than 5 minutes.</p></li>
<li><p>Use field calculator with vw_channel: 1 minute 3seconds</p></li>
<li><p>Use field calculator with table wastewater_structure: 5 seconds</p></li>
</ul>
<p>Why is vw_tww_reach so slow: there are triggers in the database, that updates for every record the calculated fields of the connected manholes and nodes, that this themes symbology is always up-to-date. With: <code class="docutils literal notranslate"><span class="pre">SELECT</span> <span class="pre">tww_sys.disable_symbology_triggers();</span></code> these triggers can be stopped. If the triggers are stopped then also the main-views are fast:</p>
<ul class="simple">
<li><p>Use field calculator or multiedit with vw_tww_reach: about 8 seconds.</p></li>
</ul>
<p>Do not forget the enable the symbology triggers again after the calculations: <code class="docutils literal notranslate"><span class="pre">SELECT</span> <span class="pre">tww_sys.enable_symbology_triggers();</span></code>
(and to run the symbology_triggers manually for all records if necessary with the new xy-button?!).</p>
<p>To do: verify these tests with TWW</p>
</section>
<section id="saving-changes">
<h2>Saving changes<a class="headerlink" href="#saving-changes" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>Click <strong>Save</strong> and then deactivate the edit mode or click on <strong>Stop data entry</strong> if you have worked with the TWW <strong>Wizard</strong>.</p></li>
</ul>
</section>
<section id="changing-wastewater-structure-type-ws-type">
<h2>Changing Wastewater Structure Type (ws_type)<a class="headerlink" href="#changing-wastewater-structure-type-ws-type" title="Link to this heading"></a></h2>
<p>In the vw_tww_wastewater_structure form, you can change the subclass of the wastewater structure (e.g. from manhole to special structure or to infiltration installation) with the field <strong>ws_type</strong>. The old subclass-record will be deleted and you must enter those attributes, that are subclass specific. But all connections (they are defined to the class wastewater_structure and not to the subclass) or the obj_id or the identifier will not change.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>There are just four subclasses supported in the moment: manhole, special_structure, infiltration_installation, discharge_point. Other subclasses (wwtp_structure, small_treatment_plant, drainless_toilett) will be supported in a next release of TWW.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can not change a point - wastewater structure (e.g. manhole) to a line wastewater structure (channel) or vice versa.</p>
</div>
</section>
<section id="split-a-reach-channel-into-different-reaches">
<h2>Split a reach (channel) into different reaches<a class="headerlink" href="#split-a-reach-channel-into-different-reaches" title="Link to this heading"></a></h2>
<p>This is a quite complex function. In the actual version of TWW there is just a simple solution with the standard QGIS-tool <strong>Split Features</strong> implemented. To use this tool is in the moment the best solution, but there are manual additions necessary.</p>
<p>The result when spliting a reach are two reaches and two channels with duplication of all fields exept the reach_point.level(s) and the reach_point.fk_wastewater_networkelement(s) and of course the identifier and obj_id (that have to be unique).
After spliting a reach, you will have to control the two parts of the “old” reach.</p>
<p>The upper part of the reach will have all old values, so you have to adjust the to_reach_point.level and the to_reach_point.connection(fk_wastewater_networkelement). The upper part also keeps all maintenance events and all connections of other reaches to the splitted reach.</p>
<p>In the lower (new) part of the reach, you will have to adjust both reach_point levels and both reach_point-connections. Control (and add if necessary) the maintenace-events and the connections of other reaches. Change identifiers (reach, channel) if necessary. And add and connect a new wastewater_node between the reaches, if it is a primary channel.</p>
<p>Second solution: Change the existing reach and draw the second reach manually. Control the connections.</p>
<p>There will be later a tool in TWW to split reaches. The user has to decide, if splitting concerns only class reach or also the class channel, if there a new wastewater node shall be added and connected. The tool shall be able to calculate the new reachpoint - levels and should change the existing network-element-connections if necessary.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Editing in TWW" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="moving.html" class="btn btn-neutral float-right" title="Moving Wastewater Structures with Reaches, Covers and Nodes" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, The TWW Project www.teksi.ch.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>