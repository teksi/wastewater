<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>3.2.5. Digitizing Channels &mdash; TWW 0.8 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../_static/documentation_options.js?v=a0e24af7"></script>
        <script src="../../_static/doctools.js?v=888ff710"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="3.2.6. Deleting objects" href="deletingobjects.html" />
    <link rel="prev" title="3.2.4. Digitizing Detailed Geometry as Drainage Channel" href="digitizingdrainagechannel.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            TWW
          </a>
              <div class="version">
                0.7
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../features-guide/index.html">1. TEKSI wastewater module (TWW)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation-guide/index.html">2. TWW Installation Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">3. TWW User Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../layerexplanations/index.html">3.1. Overview of TWW</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">3.2. Digitizing in TWW</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="dataentry.html">3.2.1. Data entry</a></li>
<li class="toctree-l3"><a class="reference internal" href="digitizingwastewaterstructures.html">3.2.2. Digitizing Wastewater Structures</a></li>
<li class="toctree-l3"><a class="reference internal" href="digitizingdetailedgeometry.html">3.2.3. Digitizing detailed geometry</a></li>
<li class="toctree-l3"><a class="reference internal" href="digitizingdrainagechannel.html">3.2.4. Digitizing Detailed Geometry as Drainage Channel</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">3.2.5. Digitizing Channels</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#general">3.2.5.1. General</a></li>
<li class="toctree-l4"><a class="reference internal" href="#digitizing">3.2.5.2. Digitizing</a></li>
<li class="toctree-l4"><a class="reference internal" href="#further-attributes-and-classes">3.2.5.3. Further attributes and classes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#geometry-synchronization">3.2.5.4. Geometry synchronization</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="deletingobjects.html">3.2.6. Deleting objects</a></li>
<li class="toctree-l3"><a class="reference internal" href="digitizingcatchments.html">3.2.7. Digitizing Catchment Areas</a></li>
<li class="toctree-l3"><a class="reference internal" href="importingdata.html">3.2.8. Importing data</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../editing/index.html">3.3. Editing in TWW</a></li>
<li class="toctree-l2"><a class="reference internal" href="../length-profile/index.html">3.4. Length profiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="../network-following/index.html">3.5. Network following tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plan-plotting/index.html">3.6. Plan plotting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../history/index.html">3.7. History in TWW</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To/index.html">3.8. How To</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../admin-guide/index.html">4. Admin Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../vm/index.html">5. Demo Virtual Machine</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../translation/index.html">6. Translation</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">TWW</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html"><span class="section-number">3. </span>TWW User Guide</a></li>
          <li class="breadcrumb-item"><a href="index.html"><span class="section-number">3.2. </span>Digitizing in TWW</a></li>
      <li class="breadcrumb-item active"><span class="section-number">3.2.5. </span>Digitizing Channels</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/user-guide/digitizing/digitizingchannels.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="digitizing-channels">
<h1><span class="section-number">3.2.5. </span>Digitizing Channels<a class="headerlink" href="#digitizing-channels" title="Link to this heading"></a></h1>
<section id="general">
<h2><span class="section-number">3.2.5.1. </span>General<a class="headerlink" href="#general" title="Link to this heading"></a></h2>
<p>TWW has a wizard to correctly build channels and connect them to wastewater structures respectively to wastewater nodes or other reaches (building up the topology for waste water nodes and reaches). See the <a class="reference internal" href="dataentry.html#wizard"><span class="std std-ref">The TWW wizard</span></a> chapter.</p>
<p>Select the <strong>Wizard</strong> button, then click <strong>Start Data Entry</strong> and choose <strong>Reach</strong> in the pull down menu.</p>
<figure class="align-default">
<img alt="../../_images/wizard_data_entry.jpg" src="../../_images/wizard_data_entry.jpg" />
</figure>
<figure class="align-default">
<img alt="../../_images/wizard_data_entry_reach.jpg" src="../../_images/wizard_data_entry_reach.jpg" />
</figure>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>Start digitizing in the direction of the flow by starting with the
<strong>from manhole node</strong> and finishing with the <strong>to manhole node</strong>.</p>
</div>
</section>
<section id="digitizing">
<h2><span class="section-number">3.2.5.2. </span>Digitizing<a class="headerlink" href="#digitizing" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>In digitizing mode the cursor will automatically snap to the nearest wastewater node or reach.
When left clicking a line starts to draw.</p></li>
</ul>
<figure class="align-default">
<img alt="../../_images/wizard_data_entry_reach_with_new_cursor3.jpg" src="../../_images/wizard_data_entry_reach_with_new_cursor3.jpg" />
</figure>
<ul class="simple">
<li><p>With further left clicks anywhere you can define intermediary points of the reach progression.
You can also directly select another manhole to draw a straight channel.</p></li>
<li><p>It is possible to use the <strong>Advanced Digitizing</strong> tools together with the wizard.</p></li>
</ul>
<figure class="align-default">
<img alt="../../_images/wizard_data_entry_reach_with_new_cursor2-3.jpg" src="../../_images/wizard_data_entry_reach_with_new_cursor2-3.jpg" />
</figure>
<ul class="simple">
<li><p>You finish digitizing the line by right clicking. This will make the <strong>vw_qep_reach</strong> form appear and you can start adding data in the <strong>General</strong> tab:</p></li>
</ul>
<figure class="align-default">
<img alt="../../_images/wizard_wastewater_structure_reach_form3.jpg" src="../../_images/wizard_wastewater_structure_reach_form3.jpg" />
</figure>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Keep in mind that the finishing point of the line is the last point where you <strong>left</strong> clicked.
Thus, for digitizing a simple line with 2 points you need two <strong>left clicks</strong> to digitize the line and one
<strong>right click</strong> to finish the line digitizing.</p>
</div>
<ul class="simple">
<li><p>Control the snapping to wastewater nodes or other reaches in the fields <strong>rp_from/to_fk_wastewater_networkelement</strong></p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you do not enter an <cite>identifier</cite> (reach-identifier) in the General tab, TWW will enter the <cite>obj_id</cite> also as identifier (you can change later). As default, the <cite>identifier</cite> of the reach is also the <cite>ws_identifier</cite> of the channel. The reachpoint-identifier are build from the reach-identifier+’F’ or +’T’ (from- and to-reachpoint).</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>See <a class="reference internal" href="#reach-geometrysync"><span class="std std-ref">Geometry synchronization</span></a> for automatic reachpoint levels when snapping to wastewater nodes with level.</p>
</div>
<ul class="simple">
<li><p>For the profile type you will get a list of defined profiles.
You can edit those in <strong>od_pipe_profile</strong> table.</p></li>
</ul>
<figure class="align-default">
<img alt="../../_images/wizard_wastewater_structure_reach_form_profiles3.jpg" src="../../_images/wizard_wastewater_structure_reach_form_profiles3.jpg" />
</figure>
<ul class="simple">
<li><p>When finished, then click the <strong>OK</strong> button.</p></li>
<li><p>Save the information of this layer by stopping the data entry wizard.</p></li>
</ul>
<figure class="align-default">
<img alt="../../_images/stop_data_entry.jpg" src="../../_images/stop_data_entry.jpg" />
</figure>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The standard-fields on the <strong>General</strong> tab (and only those fields) do reuse the last entered attribute value when you add new reaches with the wizard. The QGIS option <strong>Reuse the last entered attribute values</strong> and the default values have no influence on these fields.</p>
</div>
<ul class="simple">
<li><p>You can re-edit your object selecting the edit mode and then click with the info cursor on the object you want to edit.</p></li>
<li><p>If you do not select the edit mode, you can just look at the existing data.</p></li>
</ul>
<figure class="align-default">
<img alt="../../_images/reach_info_reach3.jpg" src="../../_images/reach_info_reach3.jpg" />
</figure>
<ul class="simple">
<li><p>For detailed information about editing see the <a class="reference internal" href="../editing/editing.html#editing-data"><span class="std std-ref">Editing of existing data</span></a> chapter.</p></li>
</ul>
</section>
<section id="further-attributes-and-classes">
<h2><span class="section-number">3.2.5.3. </span>Further attributes and classes<a class="headerlink" href="#further-attributes-and-classes" title="Link to this heading"></a></h2>
<p>When a line object is digitized, a series of steps take place in the background in the TWW database:</p>
<ul class="simple">
<li><p>a new object is added in the <strong>wastewater structure</strong> class (<code class="docutils literal notranslate"><span class="pre">od_wastewater_structure</span></code>)</p></li>
<li><p>a new object is added and linked in the <strong>channel</strong> subclass (<code class="docutils literal notranslate"><span class="pre">od_channel</span></code>)</p></li>
<li><p>a new reach object is generated in the <strong>wastewater network elements</strong> class (<code class="docutils literal notranslate"><span class="pre">od_wastewater_networkelement</span></code>)
and its subclass <strong>reach</strong> (<code class="docutils literal notranslate"><span class="pre">od_reach</span></code>)</p></li>
<li><p>two new reach point objects are added and linked to the reach (<strong>rp_from_node</strong>, <strong>rp_to_node</strong>)</p></li>
</ul>
<figure class="align-default">
<img alt="../../_images/reach_form_reach_points3.jpg" src="../../_images/reach_form_reach_points3.jpg" />
</figure>
</section>
<section id="geometry-synchronization">
<span id="reach-geometrysync"></span><h2><span class="section-number">3.2.5.4. </span>Geometry synchronization<a class="headerlink" href="#geometry-synchronization" title="Link to this heading"></a></h2>
<p>The start- and the end-point of the added feature’s geometry defines the reach point’s geometries. The altitude (Z value of geometry) of the added feature’s start- and the end-point is defined by the level values <cite>rp_from_level</cite> and <cite>rp_to_level</cite>. This means, the Z values of the reach point’s geometry is set by the level as well. These values could be filled up by the snapped features:</p>
<figure class="align-default">
<img alt="../../_images/reach_geometry_snapping_01.jpg" src="../../_images/reach_geometry_snapping_01.jpg" />
</figure>
<p>The snapped features 9405 and 9390 have the altitude from the wastewater node bottom_level. These values are copied into the attributes <cite>rp_from_level</cite> and <cite>rp_to_level</cite> and can be edited there by the user. When the user changes these values, the Z value of the geometry of the digitized feature and its reach points will be changed as well.</p>
<figure class="align-default">
<img alt="../../_images/reach_geometry_snapping_02.jpg" src="../../_images/reach_geometry_snapping_02.jpg" />
</figure>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If a reach point’s level changes, the Z value of its geometry changes, and so does the start- or the end-point of the reach. When the Z value of the reach’s geometry changes, the reach point’s geometry and its level is ajusted as well. If both values change, the level takes precendence. On an insert it’s like when both value change. Means the reach’s geometry is set according to the reach point’s levels and if they are NULL, the Z value of the reach’s start- and end-point are set to NaN.</p>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="digitizingdrainagechannel.html" class="btn btn-neutral float-left" title="3.2.4. Digitizing Detailed Geometry as Drainage Channel" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="deletingobjects.html" class="btn btn-neutral float-right" title="3.2.6. Deleting objects" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, The TWW Project www.teksi.ch.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>