<!DOCTYPE html>
<html class="writer-html5" lang="de" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>3.5. Werkzeuge zur Netzwerkverfolgung &mdash; TWW dev Dokumentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../_static/documentation_options.js?v=419ed147"></script>
        <script src="../../_static/doctools.js?v=9a2dae69"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../_static/translations.js?v=79cc9f76"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Stichwortverzeichnis" href="../../genindex.html" />
    <link rel="search" title="Suche" href="../../search.html" />
    <link rel="next" title="3.6. Plandruck" href="../plan-plotting/index.html" />
    <link rel="prev" title="3.4. Längsschnitte" href="../length-profile/index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            TWW
          </a>
              <div class="version">
                dev
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Dokumentation durchsuchen" aria-label="Dokumentation durchsuchen" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../features-guide/index.html">1. TEKSI wastewater (TWW)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation-guide/index.html">2. TWW Installation Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">3. TWW Benutzerhandbuch</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../layerexplanations/index.html">3.1. Übersicht über TWW</a></li>
<li class="toctree-l2"><a class="reference internal" href="../digitizing/index.html">3.2. Digitalisieren in TWW</a></li>
<li class="toctree-l2"><a class="reference internal" href="../editing/index.html">3.3. Bearbeiten in TWW</a></li>
<li class="toctree-l2"><a class="reference internal" href="../length-profile/index.html">3.4. Längsschnitte</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">3.5. Werkzeuge zur Netzwerkverfolgung</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#refresh-network-topology">3.5.1. Netzwerk Topologie aktualisieren</a></li>
<li class="toctree-l3"><a class="reference internal" href="#upstream">3.5.2. Gegen die Fließrichtung</a></li>
<li class="toctree-l3"><a class="reference internal" href="#downstream">3.5.3. In Fließrichtung</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sum-up-upstream">3.5.4. Summieren gegen die Fließrichtung</a></li>
<li class="toctree-l3"><a class="reference internal" href="#flow-times-downstream">3.5.5. Fliesszeiten abwärts</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../plan-plotting/index.html">3.6. Plandruck</a></li>
<li class="toctree-l2"><a class="reference internal" href="../history/index.html">3.7. History in TWW</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To/index.html">3.8. How To</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../admin-guide/index.html">4. Administratorhandbuch</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../extensions-guide/index.html">5. Official TWW extensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../vm/index.html">6. Demo virtuelle Maschine</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tww_swmm/index.html">7. SWMM Data Exchange</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../translation/index.html">8. Übersetzungen</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">TWW</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html"><span class="section-number">3. </span>TWW Benutzerhandbuch</a></li>
      <li class="breadcrumb-item active"><span class="section-number">3.5. </span>Werkzeuge zur Netzwerkverfolgung</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/user-guide/network-following/index.rst.txt" rel="nofollow"> Quelltext anzeigen</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="network-following-tools">
<h1><span class="section-number">3.5. </span>Werkzeuge zur Netzwerkverfolgung<a class="headerlink" href="#network-following-tools" title="Link to this heading"></a></h1>
<section id="refresh-network-topology">
<h2><span class="section-number">3.5.1. </span>Netzwerk Topologie aktualisieren<a class="headerlink" href="#refresh-network-topology" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>Bevor die Netzwerk-Verfolgungs-Werkzeuge verwendet werden können, muss die Netzwerk Topologie aktualisiert sein</p></li>
<li><p>Um die Netzwerk Topologie zu aktualisieren, klicke das  <strong>Refresh network topology</strong> Werkzeug (Knopf mit SQL und dem Wassertropf)</p></li>
<li><p>Wenn die Aktualisierung erfolgreich ist, erscheint eine Meldung: <strong>Success: Network successfully updated</strong></p></li>
</ul>
</section>
<section id="upstream">
<h2><span class="section-number">3.5.2. </span>Gegen die Fließrichtung<a class="headerlink" href="#upstream" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>Es spielt keine Rolle, welcher Layer ausgewählt ist</p></li>
<li><p>To start upstream network following select the <strong>Upstream</strong> TWW button</p></li>
</ul>
<figure class="align-default">
<img alt="../../_images/network_upstream_button.jpg" src="../../_images/network_upstream_button.jpg" />
</figure>
<ul class="simple">
<li><p>TWW opens then profile window at the bottom of the map. Click on your start node.</p></li>
<li><p>Wenn mehr als einen Abwasserknoten in der Nähe vorhanden ist, kann der gewünschte Knoten aus einer Liste ausgewählt werden</p></li>
</ul>
<div class="admonition attention">
<p class="admonition-title">Achtung</p>
<p>With twwplugin 1.1.8 / QGIS 3.4.2, it’s a good idea to zoom in so far, that you can choose your start node without having any other node nearby. If you choose the node from the mouse-list, you may get unexpected results.</p>
</div>
<figure class="align-default">
<img alt="../../_images/network_select_start_node.jpg" src="../../_images/network_select_start_node.jpg" />
</figure>
<ul class="simple">
<li><p>Nach ein paar Sekunden werden alle Elemente gegen die Fließrichtung hervorgehoben und Sie können sehen, woher das Wasser kommt</p></li>
<li><p>Wenn die graphisch markierten Haltungen als Auswahl selektiert werden soll, dann klicke auf den Knopf <strong>Select current path</strong> im Profil Fenster</p></li>
</ul>
<figure class="align-default">
<img alt="../../_images/network_select_currentpath.jpg" src="../../_images/network_select_currentpath.jpg" />
</figure>
<ul class="simple">
<li><p>You can now work with your reach selection in the attribute table or zoom to the selected reaches (if the vw_tww_reach layer is selected)</p></li>
<li><p>Benutzen Sie dieses Werkzeug um zu überprüfen, ob Ihr Topologie-Netzwerk korrekt ist</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Bemerkung</p>
<p>In the button select current path, you have a menu <strong>Configure Select</strong>. This is prepared to select later not only the path, put also the catchment areas that are connected to the path. This feature is not working with twwplugin 1.1.8.</p>
</div>
</section>
<section id="downstream">
<h2><span class="section-number">3.5.3. </span>In Fließrichtung<a class="headerlink" href="#downstream" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>Netzverfolgung in Fliessrichtung funktioniert gleich wie die oben beschriebene Netzverfolgung gegen die Fliessrichtung.</p></li>
</ul>
<figure class="align-default">
<img alt="../../_images/network_downstream_button.jpg" src="../../_images/network_downstream_button.jpg" />
</figure>
<ul class="simple">
<li><p>Du siehst, wohin das Wasser fliessen wird.</p></li>
<li><p>Control, if TWW finds also the overflows</p></li>
<li><p>Benutzen Sie diese Funktion, um zu überprüfen ob Ihr Topologie- Netzwerk korrekt ist oder herauszufinden wo Sie Fehler beheben können.</p></li>
</ul>
</section>
<section id="sum-up-upstream">
<span id="sumupupstream"></span><h2><span class="section-number">3.5.4. </span>Summieren gegen die Fließrichtung<a class="headerlink" href="#sum-up-upstream" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>This is a tool in the TWW-toolbox.</p></li>
<li><p>Mit diesem Tool kann ein Wert über ein ganzes Kanalnetz summiert werden, z. Bsp. die Fliesszeit von jedem Punkt bis zum Auslass aus dem Kanalnetz.</p></li>
<li><p>For this tool you need a field in the layer vw_tww_reach with the values to sum up. Because interesting values are normally not part of this layer, you have first to join the value-field (e.g flowtime or flow rate) to the layer vw_tww_reach.</p></li>
<li><p>Als Beispiel hier ein kleines Netzwerk, beschriftet mit Haltungs-Bezeichnung, Länge und Fliessrichtungspfeil.</p></li>
</ul>
<figure class="align-default">
<img alt="../../_images/sumupupstream-example.jpg" src="../../_images/sumupupstream-example.jpg" />
</figure>
<ul class="simple">
<li><p>Es braucht eine Tabelle (im Beispiel heisst sie sum up tool) mit mindestens zwei Feldern: Feld identifier als Verknüpfungsfeld und das Feld flow rate (im Beispiel die Fliessgeschwindigkeit in [m/s]) als verknüpftes Feld, dass summiert wird.</p></li>
<li><p>Open the properties of layer vw_tww_reach, choose <strong>Joins</strong> and <strong>Add new join</strong> (green + Button) and define the join with the join field (identifier) and the joined fields (field to sum up).</p></li>
</ul>
<figure class="align-default">
<img alt="../../_images/sumupupstream-join1.jpg" src="../../_images/sumupupstream-join1.jpg" />
</figure>
<ul class="simple">
<li><p>Starten sie mit Doppelklick auf das <strong>Sum up upstream</strong> Tool</p></li>
</ul>
<figure class="align-default">
<img alt="../../_images/toolbox1.jpg" src="../../_images/toolbox1.jpg" />
</figure>
<figure class="align-default">
<img alt="user-guide/network-following/images/tww_toolbox.jpg" src="user-guide/network-following/images/tww_toolbox.jpg" />
</figure>
<ul class="simple">
<li><p>Im Fenster muss folgendes eingegeben/gewählt werden</p>
<ul>
<li><p>einen Ausdruck gemäss dem Titel des Feldes (COALESCE(„field_name“,0). Wenn der <strong>coalesce</strong> Befehl nicht verwendet wird, gibt es bei der Ausführung des Tools einen Fehler, wenn sich im zu summierenden Feld ein NULL-Wert befindet. In der Abbildung ist als Beispiel die Berechnung der Fliesszeit in [Minuten], berechnet aus der Länge effektiv und der Fliessgeschindigkeit in [m/s].</p></li>
<li><p>das Verhalten bei Verzweigungen (Minimum, Maximum, Durchschnitt): welcher Wert wird für die weiter Summierung verwendet, wenn zwei Äste des Kanalnetzes zusammenkommen.</p></li>
<li><p>the advanced parameters are preconfigured for TWW and should not need to be changed.</p></li>
<li><p>Summed up: Bleibt das Feld leer wird im Projekt ein temporärer Punkt-Layer mit den Resultaten erstellt. Oder sie können in diesem Feld das Resultat in einen Punkt-Vektorlayer speichern.</p></li>
</ul>
</li>
</ul>
<figure class="align-default">
<img alt="../../_images/sumupupstream-tool.jpg" src="../../_images/sumupupstream-tool.jpg" />
</figure>
<p>Der resultierende Punkt-Layer hat die Felder des vw_wastewater_node Layer und ein ein zusätzliches Feld <strong>value</strong> mit der Summe für jeden Abwasserknoten. In der Abbildung ist das Resultat des Beispiels mit allen drei Verzweigungsverhalten dargestellt: Minimum = normaler Text, Maximum = fett, Durchschnitt = unterstrichen.</p>
<figure class="align-default">
<img alt="../../_images/sumupupstream-resultat.jpg" src="../../_images/sumupupstream-resultat.jpg" />
</figure>
</section>
<section id="flow-times-downstream">
<h2><span class="section-number">3.5.5. </span>Fliesszeiten abwärts<a class="headerlink" href="#flow-times-downstream" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>This is a tool in the TWW-toolbox.</p></li>
<li><p>Die Idee für dieses Tool: Berechne die Fliesszeit zwischen einem Startpunkt (hier ist z.B. ein Unfall) und einem Abwasserbauwerk unterhalb. Es ist nicht die Idee einen Fliesszeitenplan für ein ganzes Abwassernetz mit diesem Tool zu erstellen (für diese Aufgabe kann das Summieren gegen die Fliessrichtung-Tool verwendet werden).</p></li>
<li><p>For this tool you need a layer (table) in the TWW-project with the flowtime per reach and the obj_id of the reach.</p></li>
<li><p>You have to select the start-reach (where the accident is) in the vw_tww_reach-layer</p></li>
<li><p>Starten sie mit Doppelklick auf das <strong>Flow times downstream</strong> Tool</p></li>
</ul>
<figure class="align-default">
<img alt="../../_images/toolbox1.jpg" src="../../_images/toolbox1.jpg" />
</figure>
<figure class="align-default">
<img alt="user-guide/network-following/images/tww_toolbox.jpg" src="user-guide/network-following/images/tww_toolbox.jpg" />
</figure>
<ul class="simple">
<li><p>Im Toolfenster muss gewählt werden</p>
<ul>
<li><p>as reach layer: vw_tww_reach</p></li>
<li><p>als flow time layer: die Tabelle mit der Haltungs Obj_ID und den Fliesszeiten (oder dem Wert, der aufsummiert werden soll)</p></li>
<li><p>als reach id field: das Feld in der Tabelle mit der Obj_ID der Haltung</p></li>
<li><p>als Flow times field: das Feld aus der Tabelle, dass aufsummiert werden soll</p></li>
<li><p>als Flow times: wenn sie das Feld leer lassen wird ein temporärer Layer im Projekt erstellt. Oder sie können in diesem Feld das Resultat in einen Vektorlayer speichern.</p></li>
</ul>
</li>
</ul>
<figure class="align-default">
<img alt="../../_images/flow_time_downstream_window.jpg" src="../../_images/flow_time_downstream_window.jpg" />
</figure>
<ul class="simple">
<li><p>Das Tool macht eine Netzverfolgung in Fliessrichtung ab der selektierten Haltung und erzeugt für jede Haltung einen Datensatz im (temporären) Vektor-Layer mit nur einem Feld (der Summe der Werte im flow times field).</p></li>
</ul>
<figure class="align-default">
<img alt="../../_images/flow_time_downstream_result.jpg" src="../../_images/flow_time_downstream_result.jpg" />
</figure>
<div class="admonition attention">
<p class="admonition-title">Achtung</p>
<p>Wenn es mehr als einen Abwärts - Fliessweg gibt, sind die Resultate nach der Verzweigung falsch.</p>
</div>
<ul class="simple">
<li><p>Es gibt Fälle, bei denen ein leerer flow time - Layer und roter (Fehler-)Text im Log-Fenster resultieren:</p>
<ul>
<li><p>Nicht mehr als eine Haltung als Start selektieren</p></li>
<li><p>Do not select vw_tww_reach as flow time layer (to sum-up the length, use the vw_network_segment layer)</p></li>
<li><p>Wenn im reach id Feld kein Wert vorhanden ist, der zu der Haltungs Obj_ID passt, gibt es einen Fehler</p></li>
</ul>
</li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../length-profile/index.html" class="btn btn-neutral float-left" title="3.4. Längsschnitte" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Zurück</a>
        <a href="../plan-plotting/index.html" class="btn btn-neutral float-right" title="3.6. Plandruck" accesskey="n" rel="next">Weiter <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, The TWW Project www.teksi.ch.</p>
  </div>

  Erstellt mit <a href="https://www.sphinx-doc.org/">Sphinx</a> mit einem
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    bereitgestellt von <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>