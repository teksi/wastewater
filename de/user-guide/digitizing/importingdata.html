

<!DOCTYPE html>
<html class="writer-html5" lang="de" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>3.2.8. Datenimport &mdash; TWW dev Dokumentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />

  
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=419ed147"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../_static/translations.js?v=9bf55d28"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Stichwortverzeichnis" href="../../genindex.html" />
    <link rel="search" title="Suche" href="../../search.html" />
    <link rel="next" title="3.3. Bearbeiten in TWW" href="../editing/index.html" />
    <link rel="prev" title="3.2.7. Digitalisierung der Einzugsgebiete" href="digitizingcatchments.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            TWW
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Dokumentation durchsuchen" aria-label="Dokumentation durchsuchen" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../features-guide/index.html">1. TEKSI Abwasser (TWW)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation-guide/index.html">2. TWW Installation Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">3. TWW Benutzerhandbuch</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../layerexplanations/index.html">3.1. Übersicht über TWW</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">3.2. Digitalisieren in TWW</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="dataentry.html">3.2.1. Datenerfassung</a></li>
<li class="toctree-l3"><a class="reference internal" href="digitizingwastewaterstructures.html">3.2.2. Abwasserbauwerke digitalisieren</a></li>
<li class="toctree-l3"><a class="reference internal" href="digitizingdetailedgeometry.html">3.2.3. Digitalisieren detaillierter Geometrie</a></li>
<li class="toctree-l3"><a class="reference internal" href="digitizingdrainagechannel.html">3.2.4. Digitalisieren detaillierter Geometrie für Entwässerungsrinnen</a></li>
<li class="toctree-l3"><a class="reference internal" href="digitizingchannels.html">3.2.5. Kanäle Digitalisieren</a></li>
<li class="toctree-l3"><a class="reference internal" href="deletingobjects.html">3.2.6. Objekte löschen</a></li>
<li class="toctree-l3"><a class="reference internal" href="digitizingcatchments.html">3.2.7. Digitalisierung der Einzugsgebiete</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">3.2.8. Datenimport</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#general">3.2.8.1. Allgemeines</a></li>
<li class="toctree-l4"><a class="reference internal" href="#example-importing-manholes-from-a-txt-file">3.2.8.2. Beispiel Import Schächte mit einer TXT-Datei:</a></li>
<li class="toctree-l4"><a class="reference internal" href="#example-importing-manholes-with-attributes">3.2.8.3. Beispiel Import Schächte mit Attributen:</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../editing/index.html">3.3. Bearbeiten in TWW</a></li>
<li class="toctree-l2"><a class="reference internal" href="../length-profile/index.html">3.4. Längsschnitte</a></li>
<li class="toctree-l2"><a class="reference internal" href="../network-following/index.html">3.5. Werkzeuge zur Netzwerkverfolgung</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plan-plotting/index.html">3.6. Plandruck</a></li>
<li class="toctree-l2"><a class="reference internal" href="../history/index.html">3.7. History in TWW</a></li>
<li class="toctree-l2"><a class="reference internal" href="../How-To/index.html">3.8. How To</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../admin-guide/index.html">4. Administratorhandbuch</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../extensions-guide/index.html">5. Offizielle TWW-Erweiterungen</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tww_swmm/index.html">6. SWMM Data Exchange</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../translation/index.html">7. Übersetzungen</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">TWW</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html"><span class="section-number">3. </span>TWW Benutzerhandbuch</a></li>
          <li class="breadcrumb-item"><a href="index.html"><span class="section-number">3.2. </span>Digitalisieren in TWW</a></li>
      <li class="breadcrumb-item active"><span class="section-number">3.2.8. </span>Datenimport</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/user-guide/digitizing/importingdata.rst.txt" rel="nofollow"> Quelltext anzeigen</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <blockquote>
<div></div></blockquote>
<section id="importing-data">
<h1><span class="section-number">3.2.8. </span>Datenimport<a class="headerlink" href="#importing-data" title="Link to this heading"></a></h1>
<p>Es ist recht einfach, Daten (Lage und Attribute) aus externen Quellen zu importieren. Hier eine allgemeine Beschreibung und ein Beispiel.</p>
<section id="general">
<h2><span class="section-number">3.2.8.1. </span>Allgemeines<a class="headerlink" href="#general" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>Die zu importierenden Daten sind als (Vektor-)Layer im TWW Projekt hinzuzufügen.</p></li>
<li><p>Die Feldnamen der Attribute müssen gleich sein wie die Feldnamen im TWW Layer. Wenn möglich sind standard open Formate wie Geopackage zu bevorzugen. Bei Shp-Dateien ist die Beschränkung der Feldnamen im dbf-Format auf 10 Stellen oft der Grund, dass die Feldnamen wie gefordert eingesetzt werden können (und Alias-Feldnamen funktionieren leider nicht).</p></li>
<li><p>Wenn das QGEP Projekt ein übersetztes Projekt ist, müssen trotzdem die englischen Feldnamen verwendet werden (und nicht die übersetzten Feldnamen aus dem Alias).</p></li>
<li><p>Wenn ein Attribut eine Werteliste hat, muss der Code-Wert verwendet werden und nicht der Volltext.</p></li>
<li><p>Wenn die Felder entsprechend vorbereitet sind, dann können die Daten einfach kopiert und im TWW-Layer eingefügt werden.</p></li>
</ul>
<p>Warum alle diese Regeln: Die Daten werden nicht in den Layer des QGIS-Projektes kopiert, sondern direkt in die View oder die Tabelle in der Postgresql-Datenbank. Die Datenbank weiss aber nichts von den Konfigurationen im QGIS-Projekt (kennt keine Aliasnamen oder Wertbereich-Definitionen). In der Datenbank arbeiten nur die definierten Triggers. Deshalb wird automatisch eine Obj_ID erstellt für jeden neuen Datensatz.</p>
<p>Wenn neue Wert zu bereits existierenden Datensätzen importiert werden soll (z.B. aktualisieren des Feldes Abwasserbauwerk.Sanierungsbedarf), kann nicht kopiert werden, weil es ja keine neuen Datensätze geben soll. Für diese Aufgabe kann der QGIS Feldrechner benutzt werden.</p>
</section>
<section id="example-importing-manholes-from-a-txt-file">
<h2><span class="section-number">3.2.8.2. </span>Beispiel Import Schächte mit einer TXT-Datei:<a class="headerlink" href="#example-importing-manholes-from-a-txt-file" title="Link to this heading"></a></h2>
<p>Die Bilder wurden in QGEP erstellt, die Schritte sind in TWW aber gleich geblieben</p>
<ul class="simple">
<li><p>Ändern der Feldnamen auf identifier, x, y, co_level  (englische Feldnamen für Bezeichnung, X, Y, Deckelkote)</p></li>
</ul>
<figure class="align-default">
<img alt="../../_images/importdata_txtfile.jpg" src="../../_images/importdata_txtfile.jpg" />
</figure>
<ul class="simple">
<li><p>Das Textfile öffnen mit <span class="menuselection">Layer ‣ Layer hinzufügen ‣  Textdatei als Layer importieren…</span>.</p></li>
</ul>
<figure class="align-default">
<img alt="../../_images/importdata_opentxtfile.jpg" src="../../_images/importdata_opentxtfile.jpg" />
</figure>
<ul class="simple">
<li><p>Es gibt jetzt einen Vektor-Layer mit den Punkten im TWW-Projekt</p></li>
<li><p>Die Punkt im neuen Layer auswählen</p></li>
</ul>
<figure class="align-default">
<img alt="../../_images/importdata_selectpoints.jpg" src="../../_images/importdata_selectpoints.jpg" />
</figure>
<ul class="simple">
<li><p>Wähle <span class="menuselection">Bearbeiten ‣ Objekte kopieren</span>.</p></li>
<li><p>Wählen Sie vw_tww_wastewater_structure und wechseln Sie zum Bearbeitungsmodus.</p></li>
<li><p>Wähle <span class="menuselection">Bearbeiten ‣ Objekte einfügen</span>.</p></li>
</ul>
<figure class="align-default">
<img alt="../../_images/importdata_5newpoints.jpg" src="../../_images/importdata_5newpoints.jpg" />
</figure>
<figure class="align-default">
<img alt="../../_images/importdata_5newpointstable.jpg" src="../../_images/importdata_5newpointstable.jpg" />
</figure>
<div class="admonition note">
<p class="admonition-title">Bemerkung</p>
<p>Als ws_type (Abwasserbauwerk-Subklasse) wird standardmässig Normschacht verwendet. Die Bezeichnung wird nicht nur für das Abwasserbauwerk, sondern auch für den Deckel und den Abwasserknoten verwendet.</p>
</div>
</section>
<section id="example-importing-manholes-with-attributes">
<h2><span class="section-number">3.2.8.3. </span>Beispiel Import Schächte mit Attributen:<a class="headerlink" href="#example-importing-manholes-with-attributes" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>Beispiel für den Import weiterer Attribute</p></li>
</ul>
<figure class="align-default">
<img alt="../../_images/importdata_txtfile2.jpg" src="../../_images/importdata_txtfile2.jpg" />
</figure>
<ul class="simple">
<li><p>Das Feld ws_type ist eine Ausnahme. Mögliche Werte sind manhole, special_structure, infiltration_installation, discharge_point.</p></li>
<li><p>Für andere Felder mit einer Werteliste muss der Code-Wert verwendet werden.</p></li>
<li><p>Im obigen Beispiel hat der Wert im Feld ma_function (Normschacht-Funktion) in den Zeilen mit discharge_point oder special_structure (also nicht Normschacht) keinen Effekt.</p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="digitizingcatchments.html" class="btn btn-neutral float-left" title="3.2.7. Digitalisierung der Einzugsgebiete" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Zurück</a>
        <a href="../editing/index.html" class="btn btn-neutral float-right" title="3.3. Bearbeiten in TWW" accesskey="n" rel="next">Weiter <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, The TWW Project www.teksi.ch.</p>
  </div>

  Erstellt mit <a href="https://www.sphinx-doc.org/">Sphinx</a> mit einem
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    bereitgestellt von <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>