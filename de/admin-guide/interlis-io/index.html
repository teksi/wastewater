

<!DOCTYPE html>
<html class="writer-html5" lang="de" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>INTERLIS Datenaustausch &mdash; TWW dev Dokumentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=9edc463e" />

  
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=419ed147"></script>
      <script src="../../_static/doctools.js?v=fd6eb6e6"></script>
      <script src="../../_static/sphinx_highlight.js?v=6ffebe34"></script>
      <script src="../../_static/translations.js?v=9bf55d28"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Stichwortverzeichnis" href="../../genindex.html" />
    <link rel="search" title="Suche" href="../../search.html" />
    <link rel="next" title="Anpassung des Datenmodells" href="../db-customization/index.html" />
    <link rel="prev" title="User Roles" href="../security/index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            TWW
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Dokumentation durchsuchen" aria-label="Dokumentation durchsuchen" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../features-guide/index.html">TEKSI Abwasser (TWW)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation-guide/index.html">Installationsanleitung</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../user-guide/index.html">Benutzerhandbuch</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Administratorhandbuch</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../datamodel.html">Datenmodell</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pgadmin/index.html">pgAdmin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../security/index.html">User Roles</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">INTERLIS Datenaustausch</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#general">Allgemeines</a></li>
<li class="toctree-l3"><a class="reference internal" href="#prerequisites">Voraussetzungen</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#java">Java</a></li>
<li class="toctree-l4"><a class="reference internal" href="#python-libraries">Python Bibliotheken</a></li>
<li class="toctree-l4"><a class="reference internal" href="#tww-version">TWW Version</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#usage-gui">Benutzung (GUI)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#enable-admin-mode">Aktivieren Sie den Admin-Modus</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#interlis-export">INTERLIS-Export</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#export-extra-organisations">Zusätzliche Organisationen exportieren</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#interlis-import">INTERLIS-Import</a></li>
<li class="toctree-l3"><a class="reference internal" href="#usage-command-line">Benutzung (Befehlszeile)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#dependencies">Abhängigkeiten</a></li>
<li class="toctree-l4"><a class="reference internal" href="#import">Import</a></li>
<li class="toctree-l4"><a class="reference internal" href="#export">Export</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#quality-control">Qualitätskontrolle</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#quality-control-with-vsa-online-checker-fachprufung-mit-vsa-checker-online">Qualitätskontrolle mit VSA Checker (Fachprüfung) (online)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../db-customization/index.html">Anpassung des Datenmodells</a></li>
<li class="toctree-l2"><a class="reference internal" href="../datamodel-tool/index.html">TEKSI Module Management Tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="../db-update-pum/index.html">Manuelles Update des Datenmodells</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/index.html">Releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../extensions-guide/index.html">Offizielle TWW-Erweiterungen</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tww_swmm/index.html">SWMM Data Exchange</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../translation/index.html">Übersetzungen</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">TWW</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Administratorhandbuch</a></li>
      <li class="breadcrumb-item active">INTERLIS Datenaustausch</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/admin-guide/interlis-io/index.rst.txt" rel="nofollow"> Quelltext anzeigen</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <blockquote>
<div></div></blockquote>
<section id="interlis-data-exchange">
<h1>INTERLIS Datenaustausch<a class="headerlink" href="#interlis-data-exchange" title="Link to this heading"></a></h1>
<p>Dies ist ein Leitfaden für den Import/Export von Daten zwischen TWW und INTERLIS 2 Transfer Format (XTF) &lt;<a class="reference external" href="https://www.interlis.ch">https://www.interlis.ch</a>&gt;`_..</p>
<section id="general">
<h2>Allgemeines<a class="headerlink" href="#general" title="Link to this heading"></a></h2>
<p>Das TWW-plugin beinhaltet eine INTERLIS Import/Export Funktion. Die folgenden Datenmodelle werden zur Zeit unterstützt:</p>
<ul class="simple">
<li><p>SIA405_ABWASSER_2020_1_LV95</p></li>
<li><p>DSS_2020_1_LV95</p></li>
<li><p>VSA_KEK_2020_1_LV95</p></li>
<li><p>SIA405_Base_Abwasser_1_LV95 (um die eigenen zusätzlichen Organisationen zu exportieren, die nicht Teil des zentralisierten VSA Organisations-Datensatzes sind. )</p></li>
</ul>
<p>Bitte beachten Sie, dass Exporte derzeit nur in deutscher Sprache möglich sind. Übersetzte Exporte sind in Planung. Teilen Sie uns bitte mit, wenn Sie an dieser Funktion interessiert sind.</p>
</section>
<section id="prerequisites">
<h2>Voraussetzungen<a class="headerlink" href="#prerequisites" title="Link to this heading"></a></h2>
<section id="java">
<h3>Java<a class="headerlink" href="#java" title="Link to this heading"></a></h3>
<p>Sie benötigen Java auf ihrem System.</p>
<p>Windows : <a class="reference external" href="https://javadl.oracle.com/webapps/download/AutoDL?BundleId=245058_d3c52aa6bfa54d3ca74e617f18309292">Java for windows download</a>
MacOS : <a class="reference external" href="https://javadl.oracle.com/webapps/download/AutoDL?BundleId=245051_d3c52aa6bfa54d3ca74e617f18309292">Java for MacOS download</a>
Linux : use the package manager</p>
</section>
<section id="python-libraries">
<h3>Python Bibliotheken<a class="headerlink" href="#python-libraries" title="Link to this heading"></a></h3>
<p>Sie benötigen <cite>sqlalchemy</cite> und <cite>geoalchemy2</cite>.</p>
<p>Zum Installieren : Bevor Sie QGIS starten, öffnen Sie OSGeo4W Shell</p>
<figure class="align-default">
<img alt="../../_images/osgeo4wshell.jpg" src="../../_images/osgeo4wshell.jpg" />
</figure>
<p>und schreibe:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pip3</span> <span class="n">install</span> <span class="s2">&quot;sqlalchemy~=2.0.36&quot;</span> <span class="s2">&quot;geoalchemy2&gt;=0.14.7&quot;</span>
</pre></div>
</div>
<p>Falls der Befehl nicht funktioniert, versuchen Sie Folgendes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pip3</span> <span class="n">install</span> <span class="o">--</span><span class="n">upgrade</span> <span class="n">pip</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Bemerkung</p>
<p>Falls pip nicht gefunden werden kann, stellen Sie sicher, dass Sie das Paket python3-pip mithilfe des OSGeo4W-Netzwerkinstallers installiert haben (wenn Sie die Standalone-Version von QGIS installiert haben, sollte es enthalten sein).</p>
</div>
<p>Falls der Befehl immer noch fehlschlägt, versuchen Sie Folgendes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pip3</span> <span class="n">install</span> <span class="o">--</span><span class="n">target</span><span class="o">=</span><span class="n">c</span><span class="p">:</span>\<span class="n">somewhere</span>\<span class="n">other</span>\<span class="n">than</span>\<span class="n">the</span>\<span class="n">default</span> <span class="o">--</span><span class="n">upgrade</span> <span class="n">pip</span>
</pre></div>
</div>
<p>wo <code class="docutils literal notranslate"><span class="pre">c:\somewhere\other\than\the\default</span></code> der Pfad zu ihrem aktuellen pip Paket ist</p>
<p>Mit dem gleichen <cite>–Ziel</cite>-Flag können <cite>sqlalchemy</cite> und <cite>geoalchemy2</cite> an einem anderen Ort installiert werden.</p>
</section>
<section id="tww-version">
<h3>TWW Version<a class="headerlink" href="#tww-version" title="Link to this heading"></a></h3>
<p>Der Export unterstützt nur das aktuelle TWW-Datenmodell (Version 2020.1 &lt;<a class="reference external" href="https://www.vsa.ch/models/2020_1">https://www.vsa.ch/models/2020_1</a>&gt;, Stand: [Ende 2025]). Stellen Sie sicher, dass Ihr TWW-Datenmodell vollständig aktualisiert ist, bevor Sie einen Import/Export durchführen.</p>
</section>
</section>
<section id="usage-gui">
<h2>Benutzung (GUI)<a class="headerlink" href="#usage-gui" title="Link to this heading"></a></h2>
<section id="enable-admin-mode">
<h3>Aktivieren Sie den Admin-Modus<a class="headerlink" href="#enable-admin-mode" title="Link to this heading"></a></h3>
<p>Stellen Sie im Dialog „Plugin&gt;TWW&gt;Einstellungen“ unter dem Reiter „Entwickleroptionen“ sicher, dass der „Admin-Modus“ aktiviert ist. Starten Sie QGIS neu.</p>
<figure class="align-default">
<img alt="../../_images/settings_dialog.png" src="../../_images/settings_dialog.png" />
</figure>
<p>In der TWW-Symbolleiste sollten nun die neuen Schaltflächen „Import“ und „Export“ erscheinen.</p>
<figure class="align-default">
<img alt="../../_images/toolbar.png" src="../../_images/toolbar.png" />
</figure>
</section>
</section>
<section id="interlis-export">
<span id="id2"></span><h2>INTERLIS-Export<a class="headerlink" href="#interlis-export" title="Link to this heading"></a></h2>
<figure class="align-default">
<img alt="../../_images/tww_interlis_export_button.png" src="../../_images/tww_interlis_export_button.png" />
</figure>
<p>Um Ihre TWW-Daten zu exportieren, klicken Sie auf die Schaltfläche „INTERLIS-Export“.</p>
<p>Es erscheint folgender Dialog.</p>
<figure class="align-default">
<img alt="../../_images/tww_interlis_export.png" src="../../_images/tww_interlis_export.png" />
</figure>
<p>Wählen Sie zunächst das Exportmodell aus.</p>
<p>Wenn Sie eine aktive Auswahl in der Ebene „Knoten und/oder Haltungen“ haben, können Sie den Export auf diese Auswahl beschränken. Dies ist besonders nützlich in Kombination mit den Auswahlwerkzeugen „gegen Fliessrichtung“/„mit Fliessrichtung“.</p>
<figure class="align-default">
<img alt="../../_images/tww_interlis_export_selection.png" src="../../_images/tww_interlis_export_selection.png" />
</figure>
<p>Die Export-Tools können Labelpositionen für verschiedene Massstäbe exportieren. Sie können auswählen, welche Massstäbe Sie exportieren möchten, indem Sie diese auswählen oder die Auswahl aufheben.</p>
<div class="admonition note">
<p class="admonition-title">Bemerkung</p>
<p>Wählen Sie entweder Werkplan 1:500 oder Werkplan 1:250. Letzterer ermöglicht eine genauere Platzierung der Beschriftungen im Maßstab 1:500. Die Auswahl beider Maßstäbe im gleichen Export führt zu doppelten Beschriftungspositionen – vermeiden Sie dies! In der exportierten XTF-Datei lassen sich die Beschriftungen für 1:250 und 1:500 nicht mehr unterscheiden, da beide den Plantyp „Werkplan“ erhalten (derzeit unterstützt VSA-DSS / SIA405 Abwasser 2020.x nur einen Maßstab – dies kann sich in einer zukünftigen Version ändern).</p>
</div>
<p>Bestätigen Sie das Dialogfeld und wählen Sie einen Speicherort für die <cite>.xtf</cite>-Datei.</p>
<div class="admonition note">
<p class="admonition-title">Bemerkung</p>
<p>Beachten Sie, dass Windows-Dateipfade mit leeren Zeichenfolgen im Verzeichnispfad oder Dateinamen derzeit nicht unterstützt werden.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Bemerkung</p>
<p>Beachten Sie, dass der Befehl bei grossen/vollständigen Exporten sehr lange dauern kann.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Bemerkung</p>
<p>Beachten Sie, dass QGIS bei zu langen Beschriftungen standardmässig diese horizontal dreht (Ausrichtung = 0). Sie können die Eigenschaften der Ebene „vw_tww_Haltung“ anpassen – Symbologie – Platzierung – Beschriftungsüberlauf von „kein Überlauf“ auf z. B. 7 mm (Millimeter).</p>
</div>
<figure class="align-default">
<img alt="../../_images/layer_vw_tww_reach_label_overrun.png" src="../../_images/layer_vw_tww_reach_label_overrun.png" />
</figure>
<div class="admonition note">
<p class="admonition-title">Bemerkung</p>
<p>Beachten Sie, dass Bemerkungsfelder bei INTERLIS Export auf 80 Zeichen gekürzt werden, da die INTERLIS-Definition dies vorsieht. Wenn Sie Bemerkungsfelder mit mehr Text haben, sollten Sie diese Daten in die Dokumentation mit den Klassen „Datei” und „Datentraeger” verschieben, damit sie vollständig nach INTERLIS exportiert werden können, wo Sie einer Klasse beliebige Dokumente, Fotos oder Videos hinzufügen können.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Bemerkung</p>
<p>Mehr Information zum`QGIS label export <a class="reference external" href="https://docs.qgis.org/3.44/en/docs/user_manual/processing_algs/qgis/cartography.html#extract">https://docs.qgis.org/3.44/en/docs/user_manual/processing_algs/qgis/cartography.html#extract</a>-labels`_</p>
</div>
<p>Folgende Validierungen werden als Vorverarbeitungsschritt durchgeführt:</p>
<ul class="simple">
<li><p>Subklassen vor dem Export prüfen (_check_subclass_counts): Die Summe der Einträge in den Subklassen über alle Subklassen hinweg muss der Anzahl der Einträge in der Superklasse entsprechen.</p></li>
<li><p>Prüfung auf NULL-Werte für Bezeichnungen (_check_identifier_null): Da Bezeichnungen in den INTERLIS-Modellen obligatorisch sind, wird geprüft, ob jedes Bezeichnung-Feld einen Eintrag (NOT NULL) enthält. Wenn Sie Daten haben, für die Sie keine eigenen Bezeichnungen erstellen möchten, kopieren Sie die obj_id als Bezeichnungen (z. B. für Haltungspunkte). Dies ist auch das Standardverhalten beim Hinzufügen neuer Daten. Wenn Sie Daten von anderen Quellen kopiert haben (die nicht in TEKSI erstellt wurden), müssen Sie diese möglicherweise bereinigen, da sonst der INTERLIS-Export abgebrochen wird.</p></li>
<li><p>Prüfen Sie die Verweise auf die Organisationsklasse (_check_fk_owner_null, _check_fk_operator_null, _check_fk_dataowner_null, _check_fk_provider_null): Eigentümer, Betreiber und die Metainformationen zu Dateneigentümer und Datenlieferant sind in einer INTERLIS-Exportdatei obligatorisch. Diese Vorabprüfungen stellen sicher, dass diese Felder ausgefüllt sind. Falls Sie die Informationen nicht kennen, wählen Sie die Organisation „unbekannt“, da diese ebenfalls im Organisationsdatensatz vorhanden ist.</p></li>
<li><p>Überprüfen Sie Verweise auf Klassen, die als MANDATORY (zwingend) gekennzeichnet sind (z. B. _check_fk_reach_point_from_null, …): Verweise, die in INTERLIS als MANDATORY gekennzeichnet sind, werden vorab geprüft, um einen Absturz beim Export zu vermeiden.</p></li>
</ul>
<p>Es öffnet sich ein neues Zusammenfassungsfenster, das Ihnen mitteilt, falls eine dieser Vor-Prüfungen fehlgeschlagen ist:</p>
<figure class="align-default">
<img alt="../../_images/interlis_export_precheck_results.png" src="../../_images/interlis_export_precheck_results.png" />
</figure>
<p>Sie können den Export fortsetzen, wenn Sie der Meinung sind, dass die Ergebnisse der Vorprüfung für Ihren Export nicht relevant sind (z. B. wenn Sie SIA405 Abwasser exportieren, aber Referenzprüfungsfehler innerhalb des VSA-DSS-Teils vorliegen, die über SIA405 Abwasser hinausgehen).</p>
<p>Ein Export beinhaltet außerdem am Ende einen Validierungsschritt mit <cite>ilivalidator</cite>, der Sie darüber informiert, ob der Export INTERLIS-Validierungsfehler enthält.</p>
<p>Wenn der Export erfolgreich war, erscheint eine grüne Erfolgsmeldung. Wenn der Export nicht erfolgreich war, erhalten Sie entweder während des Exportvorgangs Fehlermeldungen oder am Ende des Vorgangs eine Fehlerwarnung.</p>
<p>Weitere Details finden Sie im Protokollfenster und in den Textprotokollen.</p>
<table class="docutils align-default" id="id6">
<caption><span class="caption-text">Es gibt vier verschiedene Log-Dateien:</span><a class="headerlink" href="#id6" title="Link to this table"></a></caption>
<colgroup>
<col style="width: 25.0%" />
<col style="width: 50.0%" />
<col style="width: 25.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Exportschritt</p></th>
<th class="head"><p>Beschreibung</p></th>
<th class="head"><p>Log File</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Exportschema</p></td>
<td><p>Erstellung eines Exportschemas mit ili2db und der ausgewählten INTERLIS-Modelldatei</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">*.ili2pg-schemaimport.log</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Zwischenschema für den Datenexport</p></td>
<td><p>Export von Daten aus tww_od in das neue Zwischenschema, Übersetzung vom Englischen ins Deutsche</p></td>
<td><p><a href="#id3"><span class="problematic" id="id4">*</span></a>.tww2ili-export.log</p></td>
</tr>
<tr class="row-even"><td><p>Datenexport nach xtf</p></td>
<td><p>Datenexport aus dem Zwischenschema in die INTERLIS-Transferdatei (xtf)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">*.ili2pg-export-MODELNAME.log</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>INTERLIS Validierung</p></td>
<td><p>Validierung der erstellten xtf-Datei(en) mit ilivalidator</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">*.ilivalidator-MODELNAME.log</span></code></p></td>
</tr>
</tbody>
</table>
<section id="export-extra-organisations">
<h3>Zusätzliche Organisationen exportieren<a class="headerlink" href="#export-extra-organisations" title="Link to this heading"></a></h3>
<figure class="align-default">
<img alt="../../_images/tww_interlis_export_organisation.jpg" src="../../_images/tww_interlis_export_organisation.jpg" />
</figure>
<p>Seit Release 2025.x können Sie auch zusätzliche Organisationen exportieren, die nicht als Teil des <a class="reference external" href="https://vsa.ch/models/organisation/vsa_organisationen_2020_1.xtf">VSA-Organisationsdatensatzes</a> gepflegt werden und die Sie selbst pflegen. Eine allgemeine Einführung in die Pflege von Organisationen durch den Verband Schweizer Abwasser &amp; Gewässerschutzfachleute (VSA) finden Sie in dieser Dokumentation &lt;<a class="reference external" href="https://vsa.ch/fachbereiche-cc/siedlungsentwaesserung/generelle-entwaesserungsplanung/datenmanagement/#Organisationstabelle">https://vsa.ch/fachbereiche-cc/siedlungsentwaesserung/generelle-entwaesserungsplanung/datenmanagement/#Organisationstabelle</a>&gt;_.</p>
<p>Zusätzliche Organisationen könnten beispielsweise grössere private Organisationen sein, die bei Veröffentlichungen für andere in der Regel als „Privat“ zusammengefasst werden, für Sie jedoch relevant sind, um unterschieden zu werden. Für einen Export müssen sie als „tww_local_extension = True“ gekennzeichnet werden.</p>
<figure class="align-default">
<img alt="../../_images/organisation_tww_local_extension.png" src="../../_images/organisation_tww_local_extension.png" />
</figure>
</section>
</section>
<section id="interlis-import">
<span id="id5"></span><h2>INTERLIS-Import<a class="headerlink" href="#interlis-import" title="Link to this heading"></a></h2>
<figure class="align-default">
<img alt="../../_images/tww_interlis_import_button.png" src="../../_images/tww_interlis_import_button.png" />
</figure>
<p>Um <cite>xtf</cite>-Dateien zu importieren, klicken Sie auf die Schaltfläche <cite>INTERLIS importieren</cite> und navigieren Sie zur <cite>.xtf</cite>-Datei.</p>
<div class="admonition note">
<p class="admonition-title">Bemerkung</p>
<p>Beachten Sie, dass Windows-Dateipfade mit leeren Zeichenfolgen im Verzeichnispfad oder Dateinamen derzeit nicht unterstützt werden.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Bemerkung</p>
<p>Es gibt eine neue Option, mit der Sie das Überschreiben von Daten vermeiden können, wenn Attribute im Importdatensatz NULL-Werte enthalten. Dadurch bleiben Ihre bereits in der Datenbank vorhandenen Werte erhalten.</p>
</div>
<figure class="align-default">
<img alt="../../_images/interlis_import_options.png" src="../../_images/interlis_import_options.png" />
</figure>
<p><strong>Organisationen vor Daten!</strong></p>
<div class="admonition note">
<p class="admonition-title">Bemerkung</p>
<p>Ab der Version 2020 befinden sich alle Organisationen in einem separaten Datensatz und müssen zuerst importiert werden, da sonst eine Reihe von Fehlern bei allen Referenzen wie fk_dataowner, fk_owner, fk_provider usw. auftreten. Laden Sie den VSA-Organisationsdatensatz von <a class="reference external" href="https://www.vsa.ch/models/organisation/vsa_organisationen_2020_1.xtf">https://www.vsa.ch/models/organisation/vsa_organisationen_2020_1.xtf</a> herunter und beginnen Sie mit dem Import dieses Datensatzes. Dieser Datensatz wird regelmäßig aktualisiert. Bitte schauen Sie später noch einmal vorbei (und importieren Sie ihn gegebenenfalls erneut), um Zugriff auf alle verfügbaren Organisationen zu erhalten.</p>
</div>
<p>Wenn Sie Organisationen haben, die noch nicht in diesem Datensatz enthalten sind, informieren Sie bitte die VSA und reichen Sie einen Antrag auf Aufnahme ein &lt;<a class="reference external" href="https://vsa.ch/fachbereiche-cc/siedlungsentwaesserung/generelle-entwaesserungsplanung/datenmanagement/#Organisationstabelle">https://vsa.ch/fachbereiche-cc/siedlungsentwaesserung/generelle-entwaesserungsplanung/datenmanagement/#Organisationstabelle</a>&gt;_.</p>
<p>Wenn Sie über weitere eigene lokale Organisationen verfügen, die (noch) nicht im VSA-Organisationsdatensatz enthalten sind, importieren Sie diese, bevor Sie mit dem Import Ihrer Netzwerkdaten beginnen. TV-Inspektionsdaten werden in der Regel zuletzt importiert, da sie auf Ihre Netzwerkdaten verweisen.</p>
<p>Nach dem Start des Importvorgangs wird Ihr Datensatz validiert und in ein Zwischenschema importiert. Anschließend erscheint das folgende Dialogfeld.</p>
<figure class="align-default">
<img alt="../../_images/tww_import_dialog.png" src="../../_images/tww_import_dialog.png" />
</figure>
<p>Im linken Teil dieses Dialogfelds werden alle Elemente aufgelistet, die aus der <cite>.xtf</cite>-Datei importiert werden. Sie können die zu importierenden Elemente überprüfen und unerwünschte Elemente abwählen. Falls bereits ein Datensatz mit derselben <cite>obj_id</cite> existiert, sehe Sie in der Spalte <cite>state</cite>  folgendes: <cite>(EXISTING)</cite> bedeutet, dass der Import keine Änderungen mit sich bringt, <cite>(MODIFIED)</cite> hingegen, dass einige Attribute geändert wurden. Details finden Sie auf der rechten Seite, wo Sie die Werte der einzelnen Attribute vergleichen können.</p>
<p>In der zweiten Spalte wird außerdem der Validierungsstatus jedes Objekts (GÜLTIG) angezeigt. Daraus wird ersichtlich, ob vor dem Import weitere Maßnahmen erforderlich (UNGÜLTIG) oder empfohlen (WARNUNG) sind.</p>
<p>Der rechte Teil dieses Dialogfelds zeigt ein Formular, das für den in der Liste ausgewählten Elementtyp spezifisch ist und die Anpassung des Imports ermöglicht.</p>
<div class="admonition note">
<p class="admonition-title">Bemerkung</p>
<p>Derzeit kann das Abwählen und Auswählen von Objekten je nach Anzahl der Datensätze in der jeweiligen Klasse sehr lange dauern.</p>
</div>
<p>Wenn Sie mit den Importoptionen zufrieden sind, bestätigen Sie den Dialog, um die Änderungen in Ihrer Datenbank zu übernehmen.</p>
<p>Wenn der Import erfolgreich war, erscheint eine grüne Erfolgsmeldung.</p>
</section>
<section id="usage-command-line">
<h2>Benutzung (Befehlszeile)<a class="headerlink" href="#usage-command-line" title="Link to this heading"></a></h2>
<p>Für fortgeschrittene Anwendungen kann das Import-/Export-Tool auch als Befehlszeilentool verwendet werden.</p>
<section id="dependencies">
<h3>Abhängigkeiten<a class="headerlink" href="#dependencies" title="Link to this heading"></a></h3>
<p>Die QGIS-Python-Klassen müssen im Python-Interpreter verfügbar sein.</p>
<ul class="simple">
<li><p>Unter Windows können Sie die OSGeo4W-Umgebung verwenden.</p></li>
<li><p>Unter Linux können Sie den PYTHONPATH so erweitern, dass er auf Ihre QGIS-Installation verweist, zum Beispiel: <cite>export PYTHONPATH=“$PYTHONPATH:/usr/share/qgis/python“</cite></p></li>
</ul>
</section>
<section id="import">
<h3>Import<a class="headerlink" href="#import" title="Link to this heading"></a></h3>
<p>Importbeispiel</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>python3<span class="w"> </span>plugin/tww_cmd.py<span class="w"> </span>interlis_import<span class="w"> </span>--xtf_file<span class="w"> </span>plugin/teksi_wastewater/tests/data/minimal-dataset-SIA405-ABWASSER.xtf<span class="w"> </span>--pgservice<span class="w"> </span>pg_tww
</pre></div>
</div>
<p>Volle Nutzung</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>python3<span class="w"> </span>plugin/tww_cmd.py<span class="w"> </span>interlis_export<span class="w"> </span>--help

<span class="go">usage: tww_cmd.py interlis_export [-h] --xtf_file XTF_FILE [--selection SELECTION] [--export_model {SIA405_ABWASSER_2020_1_LV95,DSS_2020_1_LV95,VSA_KEK_2020_1_LV95}] [--logs_next_to_file]</span>
<span class="go">                                               [--label_scale_pipeline_registry_1_1000] [--label_scale_network_plan_1_250] [--label_scale_network_plan_1_500] [--label_scale_overviewmap_1_10000] [--label_scale_overviewmap_1_5000]</span>
<span class="go">                                               [--label_scale_overviewmap_1_2000] [--selected_ids SELECTED_IDS] [--pgservice PGSERVICE] [--pghost PGHOST] [--pgport PGPORT] [--pgdatabase PGDATABASE]</span>
<span class="go">                                               [--pguser PGUSER] [--pgpass PGPASS]</span>

<span class="go">options:</span>
<span class="go">  -h, --help            show this help message and exit</span>
<span class="go">  --xtf_file XTF_FILE   XTF outup file</span>
<span class="go">  --selection SELECTION</span>
<span class="go">                        if provided, limits the export to networkelements that are provided in the selection (comma separated list of ids)</span>
<span class="go">  --export_model {SIA405_ABWASSER_2020_1_LV95,DSS_2020_1_LV95,VSA_KEK_2020_1_LV95}</span>
<span class="go">                        Model to export (default: DSS_2020_1_LV95)</span>
<span class="go">  --logs_next_to_file   Put log files next to XTF output file</span>
<span class="go">  --label_scale_pipeline_registry_1_1000</span>
<span class="go">                        Export labels in scale 1:1&#39;000, can be combined with other scales (Leitungskataster/Cadastre des conduites souterraines)</span>
<span class="go">  --label_scale_network_plan_1_250</span>
<span class="go">                        Export labels in scale 1:250, should not be combined with other scales of Werkplan (Werkplan/Plan de reseau)</span>
<span class="go">  --label_scale_network_plan_1_500</span>
<span class="go">                        Export labels in scale 1:500, should not be combined with other scales of Werkplan (Werkplan/Plan de reseau)</span>
<span class="go">  --label_scale_overviewmap_1_10000</span>
<span class="go">                        Export labels in scale 1:10&#39;000, can be combined with other scales (Uebersichtsplan/Plan d&#39;ensemble)</span>
<span class="go">  --label_scale_overviewmap_1_5000</span>
<span class="go">                        Export labels in scale 1:5&#39;000, can be combined with other scales (Uebersichtsplan/Plan d&#39;ensemble)</span>
<span class="go">  --label_scale_overviewmap_1_2000</span>
<span class="go">                        Export labels in scale 1:2&#39;000, can be combined with other scales (Uebersichtsplan/Plan d&#39;ensemble)</span>
<span class="go">  --selected_ids SELECTED_IDS</span>
<span class="go">                        If provided, limits the export to networkelements that are provided in the selection (comma separated list of ids)</span>
<span class="go">  --pgservice PGSERVICE</span>
<span class="go">                        Postgres service name</span>
<span class="go">  --pghost PGHOST       Postgres host</span>
<span class="go">  --pgport PGPORT       Postgres port</span>
<span class="go">  --pgdatabase PGDATABASE</span>
<span class="go">                        Postgres database</span>
<span class="go">  --pguser PGUSER       Postgres user</span>
<span class="go">  --pgpass PGPASS       Postgres password</span>
</pre></div>
</div>
</section>
<section id="export">
<h3>Export<a class="headerlink" href="#export" title="Link to this heading"></a></h3>
<p>Exportbeispiel</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="go">python3 plugin/tww_cmd.py interlis_export --xtf_file &quot;output.xtf&quot; --pgservice pg_tww</span>
</pre></div>
</div>
<p>Volle Nutzung</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>python3<span class="w"> </span>plugin/tww_cmd.py<span class="w"> </span>interlis_export<span class="w"> </span>--help

<span class="go">usage: tww_cmd.py interlis_export [-h] --xtf_file XTF_FILE [--selection SELECTION] [--export_model {SIA405_ABWASSER_2020_1_LV95,DSS_2020_1_LV95,VSA_KEK_2020_1_LV95}] [--logs_next_to_file]</span>
<span class="go">                                               [--label_scale_pipeline_registry_1_1000] [--label_scale_network_plan_1_250] [--label_scale_network_plan_1_500] [--label_scale_overviewmap_1_10000] [--label_scale_overviewmap_1_5000]</span>
<span class="go">                                               [--label_scale_overviewmap_1_2000] [--selected_ids SELECTED_IDS] [--pgservice PGSERVICE] [--pghost PGHOST] [--pgport PGPORT] [--pgdatabase PGDATABASE]</span>
<span class="go">                                               [--pguser PGUSER] [--pgpass PGPASS]</span>

<span class="go">options:</span>
<span class="go">  -h, --help            show this help message and exit</span>
<span class="go">  --xtf_file XTF_FILE   XTF outup file</span>
<span class="go">  --selection SELECTION</span>
<span class="go">                        if provided, limits the export to networkelements that are provided in the selection (comma separated list of ids)</span>
<span class="go">  --export_model {SIA405_ABWASSER_2020_1_LV95,DSS_2020_1_LV95,VSA_KEK_2020_1_LV95}</span>
<span class="go">                        Model to export (default: DSS_2020_1_LV95)</span>
<span class="go">  --logs_next_to_file   Put log files next to XTF output file</span>
<span class="go">  --label_scale_pipeline_registry_1_1000</span>
<span class="go">                        Export labels in scale 1:1&#39;000, can be combined with other scales (Leitungskataster/Cadastre des conduites souterraines)</span>
<span class="go">  --label_scale_network_plan_1_250</span>
<span class="go">                        Export labels in scale 1:250, can be combined with other scales (Werkplan/Plan de reseau)</span>
<span class="go">  --label_scale_network_plan_1_500</span>
<span class="go">                        Export labels in scale 1:500, can be combined with other scales (Werkplan/Plan de reseau)</span>
<span class="go">  --label_scale_overviewmap_1_10000</span>
<span class="go">                        Export labels in scale 1:10&#39;000, can be combined with other scales (Uebersichtsplan/Plan d&#39;ensemble)</span>
<span class="go">  --label_scale_overviewmap_1_5000</span>
<span class="go">                        Export labels in scale 1:5&#39;000, can be combined with other scales (Uebersichtsplan/Plan d&#39;ensemble)</span>
<span class="go">  --label_scale_overviewmap_1_2000</span>
<span class="go">                        Export labels in scale 1:2&#39;000, can be combined with other scales (Uebersichtsplan/Plan d&#39;ensemble)</span>
<span class="go">  --selected_ids SELECTED_IDS</span>
<span class="go">                        If provided, limits the export to networkelements that are provided in the selection (comma separated list of ids)</span>
<span class="go">  --pgservice PGSERVICE</span>
<span class="go">                        Postgres service name</span>
<span class="go">  --pghost PGHOST       Postgres host</span>
<span class="go">  --pgport PGPORT       Postgres port</span>
<span class="go">  --pgdatabase PGDATABASE</span>
<span class="go">                        Postgres database</span>
<span class="go">  --pguser PGUSER       Postgres user</span>
<span class="go">  --pgpass PGPASS       Postgres password</span>
</pre></div>
</div>
</section>
</section>
<section id="quality-control">
<h2>Qualitätskontrolle<a class="headerlink" href="#quality-control" title="Link to this heading"></a></h2>
<section id="quality-control-with-vsa-online-checker-fachprufung-mit-vsa-checker-online">
<h3>Qualitätskontrolle mit VSA Checker (Fachprüfung) (online)<a class="headerlink" href="#quality-control-with-vsa-online-checker-fachprufung-mit-vsa-checker-online" title="Link to this heading"></a></h3>
<figure class="align-default">
<img alt="https://vsa.ch/wp-content/uploads/2020/04/Daten-checker-d-f-it.jpg" src="https://vsa.ch/wp-content/uploads/2020/04/Daten-checker-d-f-it.jpg" />
</figure>
<p><a class="reference external" href="https://vsa.ch/fachbereiche-cc/siedlungsentwaesserung/generelle-entwaesserungsplanung/datenmanagement/#GEP-Datachecker">Für Details siehe die  VSA Homepage</a></p>
<p>Informationen zu Zugriff und Lizenzierung finden Sie hier &lt;<a class="reference external" href="https://vsa.ch/Mediathek/gep-datachecker-jahresgebuehr/?media_filter_two=lizenzen-software">https://vsa.ch/Mediathek/gep-datachecker-jahresgebuehr/?media_filter_two=lizenzen-software</a>&gt;_</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../security/index.html" class="btn btn-neutral float-left" title="User Roles" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Zurück</a>
        <a href="../db-customization/index.html" class="btn btn-neutral float-right" title="Anpassung des Datenmodells" accesskey="n" rel="next">Weiter <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, The TWW Project www.teksi.ch.</p>
  </div>

  Erstellt mit <a href="https://www.sphinx-doc.org/">Sphinx</a> mit einem
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    bereitgestellt von <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>